# 【質問票】3-0-6: 入力画面に初期値__:__が表示される 実装前確認

本質問票は「3-0-6: 入力画面に初期値__:__が表示される（InputLogicの初期値管理、InputDisplayで値表示）」の実装に先立ち、仕様の確認・要件の明確化・テスト基準の合意を目的としています。

---

## 1. 仕様・要件の確認

### 1-1. 初期値の仕様
- [ ] 入力画面（ABS_TIME_INPUT/REL_PLUS_TIME_INPUT）遷移時、時刻入力欄の初期値は「__:__」（空）でよいですか？
    - [x] はい
    - [ ] いいえ（→下記にご記入ください）
        - 【自由記述】

### 1-2. カーソル初期位置
- [ ] カーソルの初期位置は「分一の位（右端）」でよいですか？
    - [x] はい
    - [ ] いいえ（→下記にご記入ください）
        - 【自由記述】

### 1-3. 画面遷移時の初期化タイミング
- [ ] 入力画面に遷移するたびに、初期値「__:__」とカーソル位置をリセットしますか？
    - [x] はい（毎回リセット）
    - [ ] いいえ（前回値を保持）
    - [ ] その他（→下記にご記入ください）
        - 【自由記述】

### 1-4. 入力値のバリデーション
- [ ] 初期値「__:__」は「未入力」として扱い、バリデーションエラーや確定時のエラー表示の仕様は現状のままでよいですか？
    - [x] はい
    - [ ] いいえ（→下記にご記入ください）
        - 特別なメッセージを出力しても良いです。提案があればお願いします。

---

## 2. UI・表示仕様

### 2-1. 表示形式
- [ ] 初期値「__:__」の表示フォント・配置・ハイライト仕様は、既存の時刻入力表示（Font7、中央配置、カーソル位置ハイライト）と同一でよいですか？
    - [x] はい
    - [ ] いいえ（→下記にご記入ください）
        - 【自由記述】

### 2-2. プレビュー欄の表示
- [ ] 入力値が「__:__」のとき、プレビュー欄（下部）は空欄でよいですか？
    - [x] はい
    - [ ] いいえ（→下記にご記入ください）
        - 【自由記述】

---

## 3. テスト・完成条件

### 3-1. 完成判定
- [ ] 以下の条件を満たせば「完成」としてよいですか？
    - [x] 入力画面遷移時、時刻入力欄が「__:__」で表示される
    - [x] カーソルが分一の位（右端）にある
    - [x] 入力値を変更すると、通常通り時刻編集・プレビューが動作する
    - [x] 入力値が「__:__」のまま確定しようとすると、エラー表示（現状仕様通り）
    - [x] テストケース（Unit/Pure）が追加されている
    - [x] その他（→下記にご記入ください）
        - 入力画面のデザインが仕様に沿っている。
        - カーソル位置を移動したときにレイアウトに乱れがない
        - カバレッジが品質ゲートを上回っている

### 3-2. テスト観点
- [ ] テストで特に重視すべき観点・パターンがあればご記入ください
    - 【自由記述】

---

## 4. その他・ご要望
- [ ] その他、実装・UI・テストに関するご要望・注意点があればご記入ください
    - 【自由記述】 
    - 見た目上 __:__ となっていればよいだけ。 `_` の部分は文字ではなく線として描画されていてもよい。
      - 過去に実装した知見から、文字列を `__:__` と描画すると うまくいかない
        - FONT_IMPORTANT が プロポーショナルフォントのため、`_` と `:` の部分で横幅が変動してしまう。
          - 数字は等幅なのでメイン画面ではうまくいっている。
        - `_` `_` `:` `_` `_` と各桁を独立して描画することを推奨する。
    - 各種コマンド
      - native テスト実行: `pio test -e native` 
        - フィルタするときは  `pio test -e native -f pure/test_xxxx_pure`
      - カバレッジ確認: `python scripts/test_coverage.py --quick`
      - ビルド: `pio run`
      - 実機転送: `pio run -t upload` 