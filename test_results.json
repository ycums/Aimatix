{
  "timestamp": "2025-07-13T20:39:24.135997",
  "total_tests": 4,
  "successful_tests": 0,
  "failed_tests": 4,
  "results": [
    {
      "name": "Native環境でのtest_warning_messagesテスト",
      "success": false,
      "duration": 6.56188440322876,
      "timestamp": "2025-07-13T20:39:07.537128",
      "output": "Verbosity level can be increased via `-v, -vv, or -vvv` option\nCollected 1 tests\n\nProcessing * in native environment\n--------------------------------------------------------------------------------\nBuilding...\n\n",
      "error_output": "In file included from lib/M5Stack.h:7,\n                 from src/button_manager.h:4,\n                 from test\\test_button_manager_native.cpp:2:\nlib/Arduino.h: In static member function 'static int WiFiClass::status()':\nlib/Arduino.h:148:34: error: 'WL_CONNECTED' was not declared in this scope\n  148 |     static int status() { return WL_CONNECTED; }\n      |                                  ^~~~~~~~~~~~\nlib/Arduino.h:148:34: note: the macro 'WL_CONNECTED' had not yet been defined\nlib/Arduino.h:184:9: note: it was later defined here\n  184 | #define WL_CONNECTED 3\n      |         ^~~~~~~~~~~~\n*** [.pio\\build\\native\\test\\test_button_manager_native.o] Error 1\nIn file included from test\\../src/state_transition/button_event.h:4,\n                 from test\\test_integration.cpp:2:\nlib/Arduino.h: In static member function 'static int WiFiClass::status()':\nlib/Arduino.h:148:34: error: 'WL_CONNECTED' was not declared in this scope\n  148 |     static int status() { return WL_CONNECTED; }\n      |                                  ^~~~~~~~~~~~\nlib/Arduino.h:148:34: note: the macro 'WL_CONNECTED' had not yet been defined\nlib/Arduino.h:184:9: note: it was later defined here\n  184 | #define WL_CONNECTED 3\n      |         ^~~~~~~~~~~~\ntest\\test_integration.cpp: At global scope:\ntest\\test_integration.cpp:10:17: error: conflicting declaration of 'long unsigned int millis()' with 'C' linkage\n   10 |   unsigned long millis() { return 1000; }\n      |                 ^~~~~~\nlib/Arduino.h:37:15: note: previous declaration with 'C++' linkage\n   37 | unsigned long millis();\n      |               ^~~~~~\n*** [.pio\\build\\native\\test\\test_integration.o] Error 1\nBuilding stage has failed, see errors above. Use `pio test -vvv` option to enable verbose output.\n--------------------- native:* [ERRORED] Took 4.85 seconds ---------------------\n=================================== SUMMARY ===================================\nEnvironment    Test    Status    Duration\n-------------  ------  --------  ------------\nnative         *       ERRORED   00:00:04.850\n================== 1 test cases: 0 succeeded in 00:00:04.850 ==================\n"
    },
    {
      "name": "Native環境でのtest_alarm_validationテスト",
      "success": false,
      "duration": 4.036171197891235,
      "timestamp": "2025-07-13T20:39:11.578149",
      "output": "Verbosity level can be increased via `-v, -vv, or -vvv` option\nCollected 1 tests\n\nProcessing * in native environment\n--------------------------------------------------------------------------------\nBuilding...\n\n",
      "error_output": "In file included from lib/M5Stack.h:7,\n                 from src/button_manager.h:4,\n                 from test\\test_button_manager_native.cpp:2:\nlib/Arduino.h: In static member function 'static int WiFiClass::status()':\nlib/Arduino.h:148:34: error: 'WL_CONNECTED' was not declared in this scope\n  148 |     static int status() { return WL_CONNECTED; }\n      |                                  ^~~~~~~~~~~~\nlib/Arduino.h:148:34: note: the macro 'WL_CONNECTED' had not yet been defined\nlib/Arduino.h:184:9: note: it was later defined here\n  184 | #define WL_CONNECTED 3\n      |         ^~~~~~~~~~~~\nIn file included from test\\../src/state_transition/button_event.h:4,\n                 from test\\test_integration.cpp:2:\nlib/Arduino.h: In static member function 'static int WiFiClass::status()':\nlib/Arduino.h:148:34: error: 'WL_CONNECTED' was not declared in this scope\n  148 |     static int status() { return WL_CONNECTED; }\n      |                                  ^~~~~~~~~~~~\nlib/Arduino.h:148:34: note: the macro 'WL_CONNECTED' had not yet been defined\nlib/Arduino.h:184:9: note: it was later defined here\n  184 | #define WL_CONNECTED 3\n      |         ^~~~~~~~~~~~\ntest\\test_integration.cpp: At global scope:\ntest\\test_integration.cpp:10:17: error: conflicting declaration of 'long unsigned int millis()' with 'C' linkage\n   10 |   unsigned long millis() { return 1000; }\n      |                 ^~~~~~\nlib/Arduino.h:37:15: note: previous declaration with 'C++' linkage\n   37 | unsigned long millis();\n      |               ^~~~~~\nIn file included from test\\../src/state_transition/button_event.h:4,\n                 from test\\test_state_transition.cpp:2:\nlib/Arduino.h: In static member function 'static int WiFiClass::status()':\nlib/Arduino.h:148:34: error: 'WL_CONNECTED' was not declared in this scope\n  148 |     static int status() { return WL_CONNECTED; }\n      |                                  ^~~~~~~~~~~~\nlib/Arduino.h:148:34: note: the macro 'WL_CONNECTED' had not yet been defined\nlib/Arduino.h:184:9: note: it was later defined here\n  184 | #define WL_CONNECTED 3\n      |         ^~~~~~~~~~~~\ntest\\test_state_transition.cpp: At global scope:\ntest\\test_state_transition.cpp:11:17: error: conflicting declaration of 'long unsigned int millis()' with 'C' linkage\n   11 |   unsigned long millis() { return 1000; }\n      |                 ^~~~~~\nlib/Arduino.h:37:15: note: previous declaration with 'C++' linkage\n   37 | unsigned long millis();\n      |               ^~~~~~\n*** [.pio\\build\\native\\test\\test_button_manager_native.o] Error 1\n*** [.pio\\build\\native\\test\\test_integration.o] Error 1\n*** [.pio\\build\\native\\test\\test_state_transition.o] Error 1\nBuilding stage has failed, see errors above. Use `pio test -vvv` option to enable verbose output.\n--------------------- native:* [ERRORED] Took 2.85 seconds ---------------------\n=================================== SUMMARY ===================================\nEnvironment    Test    Status    Duration\n-------------  ------  --------  ------------\nnative         *       ERRORED   00:00:02.852\n================== 1 test cases: 0 succeeded in 00:00:02.852 ==================\n"
    },
    {
      "name": "Native環境でのtest_button_manager_nativeテスト",
      "success": false,
      "duration": 4.028238534927368,
      "timestamp": "2025-07-13T20:39:15.612116",
      "output": "Verbosity level can be increased via `-v, -vv, or -vvv` option\nCollected 1 tests\n\nProcessing * in native environment\n--------------------------------------------------------------------------------\nBuilding...\n\n",
      "error_output": "In file included from test\\test_warning_messages.cpp:3:\ntest\\mocks/mock_m5stack.h:127:9: warning: 'TFT_ORANGE' redefined\n  127 | #define TFT_ORANGE 0xFD20\n      |         ^~~~~~~~~~\nIn file included from src/ui.h:4,\n                 from test\\test_warning_messages.cpp:2:\nlib/M5Stack.h:140:9: note: this is the location of the previous definition\n  140 | #define TFT_ORANGE    0xFDA0\n      |         ^~~~~~~~~~\ntest\\mocks/mock_m5stack.h:225:9: warning: 'GRID_X' redefined\n  225 | #define GRID_X(x) ((x) * GRID_WIDTH)\n      |         ^~~~~~\nsrc/ui.h:38:9: note: this is the location of the previous definition\n   38 | #define GRID_X(col) (col * GRID_WIDTH)\n      |         ^~~~~~\ntest\\mocks/mock_m5stack.h:226:9: warning: 'GRID_Y' redefined\n  226 | #define GRID_Y(y) ((y) * GRID_HEIGHT)\n      |         ^~~~~~\nsrc/ui.h:39:9: note: this is the location of the previous definition\n   39 | #define GRID_Y(row) (TITLE_HEIGHT + row * GRID_HEIGHT)\n      |         ^~~~~~\nIn file included from lib/M5Stack.h:7,\n                 from src/button_manager.h:4,\n                 from test\\test_button_manager_native.cpp:2:\nlib/Arduino.h: In static member function 'static int WiFiClass::status()':\nlib/Arduino.h:148:34: error: 'WL_CONNECTED' was not declared in this scope\n  148 |     static int status() { return WL_CONNECTED; }\n      |                                  ^~~~~~~~~~~~\nlib/Arduino.h:148:34: note: the macro 'WL_CONNECTED' had not yet been defined\nlib/Arduino.h:184:9: note: it was later defined here\n  184 | #define WL_CONNECTED 3\n      |         ^~~~~~~~~~~~\nIn file included from test\\../src/state_transition/button_event.h:4,\n                 from test\\test_integration.cpp:2:\nlib/Arduino.h: In static member function 'static int WiFiClass::status()':\nlib/Arduino.h:148:34: error: 'WL_CONNECTED' was not declared in this scope\n  148 |     static int status() { return WL_CONNECTED; }\n      |                                  ^~~~~~~~~~~~\nlib/Arduino.h:148:34: note: the macro 'WL_CONNECTED' had not yet been defined\nlib/Arduino.h:184:9: note: it was later defined here\n  184 | #define WL_CONNECTED 3\n      |         ^~~~~~~~~~~~\ntest\\test_integration.cpp: At global scope:\ntest\\test_integration.cpp:10:17: error: conflicting declaration of 'long unsigned int millis()' with 'C' linkage\n   10 |   unsigned long millis() { return 1000; }\n      |                 ^~~~~~\nlib/Arduino.h:37:15: note: previous declaration with 'C++' linkage\n   37 | unsigned long millis();\n      |               ^~~~~~\nIn file included from test\\../src/state_transition/button_event.h:4,\n                 from test\\test_state_transition.cpp:2:\nlib/Arduino.h: In static member function 'static int WiFiClass::status()':\nlib/Arduino.h:148:34: error: 'WL_CONNECTED' was not declared in this scope\n  148 |     static int status() { return WL_CONNECTED; }\n      |                                  ^~~~~~~~~~~~\nlib/Arduino.h:148:34: note: the macro 'WL_CONNECTED' had not yet been defined\nlib/Arduino.h:184:9: note: it was later defined here\n  184 | #define WL_CONNECTED 3\n      |         ^~~~~~~~~~~~\ntest\\test_state_transition.cpp: At global scope:\ntest\\test_state_transition.cpp:11:17: error: conflicting declaration of 'long unsigned int millis()' with 'C' linkage\n   11 |   unsigned long millis() { return 1000; }\n      |                 ^~~~~~\nlib/Arduino.h:37:15: note: previous declaration with 'C++' linkage\n   37 | unsigned long millis();\n      |               ^~~~~~\nIn file included from lib/M5Stack.h:7:\nlib/Arduino.h: In static member function 'static int WiFiClass::status()':\nlib/Arduino.h:148:34: error: 'WL_CONNECTED' was not declared in this scope\n  148 |     static int status() { return WL_CONNECTED; }\n      |                                  ^~~~~~~~~~~~\nlib/Arduino.h:148:34: note: the macro 'WL_CONNECTED' had not yet been defined\ntest\\mocks/mock_m5stack.h:196:9: note: it was later defined here\n  196 | #define WL_CONNECTED 3\n      |         ^~~~~~~~~~~~\nIn file included from src/settings.h:4,\n                 from src/ui.h:8:\nlib/EEPROM.h: At global scope:\nlib/EEPROM.h:9:7: error: redefinition of 'class EEPROMClass'\n    9 | class EEPROMClass {\n      |       ^~~~~~~~~~~\nlib/Arduino.h:155:7: note: previous definition of 'class EEPROMClass'\n  155 | class EEPROMClass {\n      |       ^~~~~~~~~~~\nsrc/ui.h:42:8: error: 'TFT_eSprite' does not name a type\n   42 | extern TFT_eSprite sprite;\n      |        ^~~~~~~~~~~\ntest\\mocks/mock_m5stack.h:116:20: error: conflicting declaration 'MockM5Stack M5'\n  116 | extern MockM5Stack M5;\n      |                    ^~\nlib/M5Stack.h:121:16: note: previous declaration as 'M5Stack M5'\n  121 | extern M5Stack M5;\n      |                ^~\n*** [.pio\\build\\native\\test\\test_integration.o] Error 1\ntest\\mocks/mock_m5stack.h:182:19: error: conflicting declaration 'MockSerial Serial'\n  182 | extern MockSerial Serial;\n      |                   ^~~~~~\nlib/Arduino.h:97:20: note: previous declaration as 'SerialClass Serial'\n   97 | extern SerialClass Serial;\n      |                    ^~~~~~\ntest\\mocks/mock_m5stack.h:193:19: error: conflicting declaration 'MockEEPROM EEPROM'\n  193 | extern MockEEPROM EEPROM;\n      |                   ^~~~~~\nlib/EEPROM.h:38:20: note: previous declaration as 'EEPROMClass EEPROM'\n   38 | extern EEPROMClass EEPROM;\n      |                    ^~~~~~\n*** [.pio\\build\\native\\test\\test_button_manager_native.o] Error 1\n*** [.pio\\build\\native\\test\\test_state_transition.o] Error 1\n*** [.pio\\build\\native\\test\\test_warning_messages.o] Error 1\nBuilding stage has failed, see errors above. Use `pio test -vvv` option to enable verbose output.\n--------------------- native:* [ERRORED] Took 2.88 seconds ---------------------\n=================================== SUMMARY ===================================\nEnvironment    Test    Status    Duration\n-------------  ------  --------  ------------\nnative         *       ERRORED   00:00:02.876\n================== 1 test cases: 0 succeeded in 00:00:02.876 ==================\n"
    },
    {
      "name": "純粋ロジックテスト",
      "success": false,
      "duration": 8.511102676391602,
      "timestamp": "2025-07-13T20:39:24.135990",
      "output": "=== M5Stack集中タイマー 純粋ロジックテスト ===\nテストファイル数: 5\n\n\n--- time_logic テスト ---\n使用コンパイラ: g++\n実行中: time_logicのコンパイル\nコマンド: g++ -I.pio\\libdeps\\native\\Unity\\src -Ilib -Itest/mocks -Isrc -std=c++11 -o test_time_logic test\\test_time_logic_simple.cpp .pio\\libdeps\\native\\Unity\\src\\unity.c src/time_logic.cpp test/mocks/mock_m5stack.cpp\nO time_logicのコンパイル 成功\n実行中: time_logicの実行\nコマンド: test_time_logic.exe\n出力:\n=== TimeLogic Unit Test ===\n? 時刻バリデーションテスト: 成功\ntest\\test_time_logic_simple.cpp:113:test_time_validation:PASS\n? 絶対時刻計算テスト: 成功\ntest\\test_time_logic_simple.cpp:114:test_absolute_time_calculation:PASS\n現在時刻: 10:46\n計算結果: 12:16\n期待値: 12:16\ntest\\test_time_logic_simple.cpp:64:test_relative_time_calculation:FAIL: Expected 1000000000 to be greater than 1000005360\n? 時刻フォーマットテスト: 成功\ntest\\test_time_logic_simple.cpp:116:test_time_formatting:PASS\ntest\\test_time_logic_simple.cpp:102:test_alarm_time_calculation:FAIL: Expected 1000000000 to be greater than 1000005360\n=== 全テスト完了 ===\n\n-----------------------\n5 Tests 2 Failures 0 Ignored \nFAIL\n\nX time_logicの実行 失敗 (終了コード: 2)\n\n\n--- alarm_logic テスト ---\n使用コンパイラ: g++\n実行中: alarm_logicのコンパイル\nコマンド: g++ -I.pio\\libdeps\\native\\Unity\\src -Ilib -Itest/mocks -Isrc -std=c++11 -o test_alarm_logic test\\test_alarm_logic_simple.cpp .pio\\libdeps\\native\\Unity\\src\\unity.c src/time_logic.cpp test/mocks/mock_m5stack.cpp\nO alarm_logicのコンパイル 成功\n実行中: alarm_logicの実行\nコマンド: test_alarm_logic.exe\n出力:\n=== AlarmLogic Unit Test ===\n? アラーム追加テスト: 成功\ntest\\test_alarm_logic_simple.cpp:152:test_alarm_addition:PASS\n? 最大アラーム数制限テスト: 成功\ntest\\test_alarm_logic_simple.cpp:153:test_maximum_alarm_limit:PASS\n? アラーム削除テスト: 成功\ntest\\test_alarm_logic_simple.cpp:154:test_alarm_removal:PASS\n? 重複チェックテスト: 成功\ntest\\test_alarm_logic_simple.cpp:155:test_duplicate_check:PASS\n? ソートテスト: 成功\ntest\\test_alarm_logic_simple.cpp:156:test_alarm_sorting:PASS\n? 過去アラーム削除テスト: 成功\ntest\\test_alarm_logic_simple.cpp:157:test_past_alarm_removal:PASS\n? 次のアラーム取得テスト: 成功\ntest\\test_alarm_logic_simple.cpp:158:test_next_alarm_time:PASS\n=== 全テスト完了 ===\n\n-----------------------\n7 Tests 0 Failures 0 Ignored \nOK\n\nO alarm_logicの実行 成功\n\n\n--- input_logic テスト ---\n使用コンパイラ: g++\n実行中: input_logicのコンパイル\nコマンド: g++ -I.pio\\libdeps\\native\\Unity\\src -Ilib -Itest/mocks -Isrc -std=c++11 -o test_input_logic test\\test_input_logic_simple.cpp .pio\\libdeps\\native\\Unity\\src\\unity.c src/time_logic.cpp test/mocks/mock_m5stack.cpp\nO input_logicのコンパイル 成功\n実行中: input_logicの実行\nコマンド: test_input_logic.exe\n出力:\n=== InputLogic Unit Test ===\n? 桁インクリメントテスト: 成功\ntest\\test_input_logic_simple.cpp:172:test_digit_increment:PASS\n? 桁デクリメントテスト: 成功\ntest\\test_input_logic_simple.cpp:173:test_digit_decrement:PASS\n? 時間の十の位バリデーションテスト: 成功\ntest\\test_input_logic_simple.cpp:174:test_hour_tens_validation:PASS\n? 時間の一の位バリデーションテスト: 成功\ntest\\test_input_logic_simple.cpp:175:test_hour_ones_validation:PASS\n? 分の十の位バリデーションテスト: 成功\ntest\\test_input_logic_simple.cpp:176:test_minute_tens_validation:PASS\n? 分の一の位バリデーションテスト: 成功\ntest\\test_input_logic_simple.cpp:177:test_minute_ones_validation:PASS\n? 入力値から時刻への変換テスト: 成功\ntest\\test_input_logic_simple.cpp:178:test_input_to_time:PASS\n? 時刻から入力値への変換テスト: 成功\ntest\\test_input_logic_simple.cpp:179:test_time_to_input:PASS\n=== 全テスト完了 ===\n\n-----------------------\n8 Tests 0 Failures 0 Ignored \nOK\n\nO input_logicの実行 成功\n\n\n--- settings_logic テスト ---\n使用コンパイラ: g++\n実行中: settings_logicのコンパイル\nコマンド: g++ -I.pio\\libdeps\\native\\Unity\\src -Ilib -Itest/mocks -Isrc -std=c++11 -o test_settings_logic test\\test_settings_logic_simple.cpp .pio\\libdeps\\native\\Unity\\src\\unity.c src/time_logic.cpp test/mocks/mock_m5stack.cpp\nO settings_logicのコンパイル 成功\n実行中: settings_logicの実行\nコマンド: test_settings_logic.exe\n出力:\n=== 設定管理ロジックテスト開始 ===\n? チェックサム計算テスト: 成功\ntest\\test_settings_logic_simple.cpp:206:test_checksum_calculation:PASS\n? 設定バリデーションテスト: 成功\ntest\\test_settings_logic_simple.cpp:207:test_settings_validation:PASS\n? デフォルト設定テスト: 成功\ntest\\test_settings_logic_simple.cpp:208:test_default_settings:PASS\n? 設定値範囲テスト: 成功\ntest\\test_settings_logic_simple.cpp:209:test_settings_range_validation:PASS\ntest\\test_settings_logic_simple.cpp:114:test_settings_save_load_simulation:FAIL: Expected FALSE Was TRUE\n? 設定更新テスト: 成功\ntest\\test_settings_logic_simple.cpp:211:test_settings_update:PASS\n? 設定整合性テスト: 成功\ntest\\test_settings_logic_simple.cpp:212:test_settings_consistency:PASS\n? エラーケーステスト: 成功\ntest\\test_settings_logic_simple.cpp:213:test_error_cases:PASS\n\n-----------------------\n8 Tests 1 Failures 0 Ignored \nFAIL\n=== 設定管理ロジックテスト完了 ===\n全テストが完了しました！\n\nO settings_logicの実行 成功\n\n\n--- warning_messages テスト ---\n使用コンパイラ: g++\n実行中: warning_messagesのコンパイル\nコマンド: g++ -I.pio\\libdeps\\native\\Unity\\src -Ilib -Itest/mocks -Isrc -std=c++11 -o test_warning_messages test\\test_warning_messages_simple.cpp .pio\\libdeps\\native\\Unity\\src\\unity.c src/time_logic.cpp test/mocks/mock_m5stack.cpp\nO warning_messagesのコンパイル 成功\n実行中: warning_messagesの実行\nコマンド: test_warning_messages.exe\n出力:\n=== 警告メッセージ機能テスト開始 ===\nWarning message cleared\nWarning message displayed: テスト警告メッセージ\ntest\\test_warning_messages_simple.cpp:45:test_show_warning_message:FAIL: Expected TRUE Was FALSEWarning message cleared\n\nWarning message cleared\nWarning message displayed: 自動消去テスト\ntest\\test_warning_messages_simple.cpp:54:test_warning_message_auto_clear:FAIL: Expected TRUE Was FALSEWarning message cleared\n\nWarning message cleared\nWarning message displayed: 手動消去テスト\ntest\\test_warning_messages_simple.cpp:67:test_warning_message_manual_clear:FAIL: Expected TRUE Was FALSEWarning message cleared\n\nWarning message cleared\nWarning message displayed: メッセージ1\ntest\\test_warning_messages_simple.cpp:81:test_multiple_warning_messages:FAIL: Expected TRUE Was FALSEWarning message cleared\n\n\n-----------------------\n4 Tests 4 Failures 0 Ignored \nFAIL\n=== 警告メッセージ機能テスト完了 ===\n全テストが完了しました！\n\nO warning_messagesの実行 成功\n\n=== テスト結果 ===\n成功: 4/5\nX 一部のテストが失敗しました\n",
      "error_output": ""
    }
  ]
}